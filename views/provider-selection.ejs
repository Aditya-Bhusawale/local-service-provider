<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Browse Providers</title>
  <link rel="stylesheet" href="/css/provider-selection.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>

<header class="topbar">
  <div class="logo">ServiceHub</div>
  <nav>
    <a href="/home">Home</a>
    <a href="/services">Services</a>
    <a href="#">Providers</a>
    <a href="#">My Bookings</a>
    <a href="/logout">Logout</a>
  </nav>
</header>

<main class="container">
  <h1>Nearby Service Providers</h1>

  <section class="providers">

  <% if (providers.length === 0) { %>
    <p>No providers available right now.</p>
  <% } %>

  <% providers.forEach(p => { %>
    <div class="provider-card">

      <img src="/images/default-provider.png" alt="Provider">

      <div class="info">
        <h3><%= p.name %></h3>
        <p class="service"><%= p.serviceType %></p>

        <div class="meta">
          <span>⭐ <%= p.rating.toFixed(1) %></span>
          <span><i class="fas fa-location-dot"></i> <%= p.city %></span>
        </div>

        <p>₹ <%= p.pricePerVisit %> / visit</p>
        <p><%= p.experience %> yrs experience</p>

        <% if (p.isAvailable) { %>
          <a href="/book/<%= p._id %>" class="book-btn">Book Now</a>
        <% } else { %>
          <button class="book-btn disabled" disabled>Not Available</button>
        <% } %>

      </div>
    </div>
  <% }) %>

  </section>
</main>

</body>
</html>
